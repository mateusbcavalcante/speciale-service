<ion-header parallax maximumHeight="140">
  <ion-toolbar>
    <ion-title>
      Carrinho
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>

  <ion-card mode="ios" class="card-message" *ngIf="(pedidoStatus$ | async).tipo === 'ENVIADO'">
    <ion-card-header>
      <img src='assets/images/success.png' alt="">
      <h3>{{(pedidoStatus$ | async).mensagem}}</h3>
    </ion-card-header>
  </ion-card>

  <app-card-item *ngFor="let item of (itens$ | async)" (removerItem)="removerItemCarrinhoConfirmacao($event)"
    [item]="item">
  </app-card-item>

  <ion-card mode="ios" class="card-form" *ngIf="(pedidoStatus$ | async).tipo !== 'ENVIADO'"
    [hidden]="(itens$ | async).length === 0">

    <ion-card-header></ion-card-header>

    <form [formGroup]="carrinhoForm">

      <ion-grid>

        <ion-row>
          <ion-col size="5">
            <ion-label>
              Data Pedido:
            </ion-label>
          </ion-col>
          <ion-col size="7">
            <ion-datetime displayFormat="DD/MM/YYYY" doneText="OK" mode="md" cancelText="Cancelar"
              formControlName="dataPedido">
            </ion-datetime>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="12">
            <ion-button size='small' class="card-form-btn" (click)="registrarPedido()"
              [disabled]="(itens$ | async).length === 0">
              Fazer Pedido</ion-button>
          </ion-col>
        </ion-row>

      </ion-grid>

    </form>

  </ion-card>

</ion-content>